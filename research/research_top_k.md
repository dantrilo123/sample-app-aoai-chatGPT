# Top-k設定の最適化検証結果

## 背景  
AI検索の応答品質を高めるためには、単なるモデル性能だけでなく、検索に使用する **Top-kパラメータの調整が重要** です。今回は、質問内容のタイプごとにTop-kの最適値を検証し、回答内容・再現性・情報の網羅性への影響を確認しました。

## 結論（一行サマリー）  
**AI検索の精度を上げるには、質問の種類によってTop-k設定を使い分けることが重要**  
→ すべての質問に同じTop-kを使うのではなく、目的に応じて最適な値を設定することで、検索結果の実用性と品質が向上します。


---

## 実験結果

### 検証した3つの質問パターン

| プロンプト番号   | 聞いた内容 | top-k=5（デフォルト設定） | NeuronESで検索する場合 |
|-----------|-----------|-----------------|------------------|
| **基本検索**  | 「Neuronの導入事例を探してください」 | 4社の事例 | 26社の事例を表示 |
| **具体的要求** | 「Neuronの導入事例を10社分探してください」 | 10社の事例 | 結果に表示する事例の数は指定できないが10社以上の事例を表示 |
| **要約系質問** | 「製造業が抱える課題について教えて」 | 主要3つの課題 | 「製造業　抱える　課題」で検索し、キーワードが入った文書を読んで自分で文書を作成する。 |

### 設定別の結果

| 質問タイプ | Top-k=5 | Top-k=10 | Top-k=15 |
|-----------|--|-----|---------|
| 基本検索 | 4社 | 4社 | 5社 |
| 具体的要求 | 4社| 10社 | 10社 |
| 要約系質問 |3つ| 5つ | 3つ|

---

## 結果まとめ（Top-kによる変化の傾向）

- **Top-kを上げると、網羅性は向上するが、必ずしも内容の質が比例して良くなるわけではない**
- **特に要約系の質問では、Top-kが多すぎると情報が拡散し、逆に焦点がぼやけることがある**
- **再現性には限界があり、同じ質問でも回答内容が変動することがある**

---

## ビジネス上の実用的な使い分け

### シーン別推奨設定

| 使用シーン | 推奨設定 | 理由 |
|-----------|---------|------|
| **基本的な調べ物** | Top-k=5 | 必要な情報だけ、素早く |
| **詳細な資料作成** | Top-k=10 | 漏れなく、幅広く情報収集 |
| **要約・まとめ作成** | Top-k=15 | システムが自動で整理 |

---
